#:kivy 2.2.0

<NaviPalkki@GridLayout>:
    rows: 1
    cols: 5
    Spinner:
        id: month_spinner
        values: app.calendar.list_of_months
        text: app.calendar.list_of_months[app.calendar.cal_month - 1]
        on_text:
            app.calendar.month = app.calendar.list_of_months.index(self.text) + 1


    Spinner:
        id: year_spinner
        values: [str(_) for _ in range(app.calendar.current_year-5, app.calendar.current_year+5)]
        text: str(app.calendar.current_year)
    Button:
        text: "<"
        on_press:
            app.calendar.cal_month -= 1
            self.parent.ids.month_spinner.text = app.calendar.list_of_months[app.calendar.cal_month - 1]

    Button:
        text: ">"
        on_press:
            app.calendar.cal_month += 1
            self.parent.ids.month_spinner.text = app.calendar.list_of_months[app.calendar.cal_month - 1]

    
<CalendarView>:
    # Kalenterin näkymä
    orientation: "vertical"
    year: int(app.calendar.cal_year)
    month: int(app.calendar.cal_month)
    list_of_months: app.calendar.list_of_months
    NaviPalkki:
        size_hint_y: None    
        height: 50
    WeekDays:

<CalendarContainer>:
    # Containeri koko kalenterikikkareelle
    FloatLayout:

        GridLayout:
            cols: 1
            rows: 2
            CalendarView:
                size_hint_y: None
                height: root.height * 0.9
            Label:
                id: date
                text: "Today is: " + str(app.calendar.current_date)

<MainWindow>:
    GridLayout:
        cols: 1
        rows: 2
        CalendarContainer:


<Day@Button>:
    background_color_normal: ""
    background_color: (127, 64, 0, 1)
    color: (0, 0, 0, 1)
    entrylist: []

<Week@BoxLayout>:
